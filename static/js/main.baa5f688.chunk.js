(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{164:function(e,t,r){},165:function(e,t,r){},292:function(e,t,r){"use strict";r.r(t),r.d(t,"history",(function(){return Ee}));var n,c=r(0),a=r.n(c),s=r(9),i=r.n(s),o=(r(164),r(165),r(15)),d=r(11),l=r(323),j=r(343),u=r(326),b=r(327),h=r(337),O=r(328),p=r(340),m=r(330),x=r(338),f=r(322),g=r(146),S=Object(g.a)({palette:{primary:{main:"#00695f"},secondary:{main:"#009688"}}}),v=r(41),y=r(12),w=r(24),P=r.n(w),I=r(46),T=r(139),_=r.n(T).a.create(Object(d.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),E=function(e){return _.post("auth/login",e).then((function(e){return e.data}))},R=function(){return _.delete("auth/me").then((function(e){return e.data}))},A=function(e,t){return _.post("auth/register",{email:e,password:t}).then((function(e){return e.data}))},k=function(e){return _.post("/auth/forgot",{email:e,from:"front-admin <serhioromanchuk@gmail.com>",message:"<div style=\"background-color: lime; padding: 15px\">\t\n\t                         password recovery link: \t\t\n                            \x3c!-- <a href='https://borec22.github.io/cards/#/set-new-password/$token$'>link</a>--\x3e\n\t                         <a href='http://localhost:3000/set-new-password/$token$'>link</a>\n\t                      </div>"}).then((function(e){return e.data}))},N=function(e,t){return _.post("auth/set-new-password",{password:e,resetPasswordToken:t}).then((function(e){return e.data}))},L=function(){return _.get("auth/me")},H=function(e,t){var r=e.response?e.response.data.error:e.message;t(F(r)),t(C("failed"))};!function(e){e.SET_STATUS="APP/SET-STATUS",e.SET_ERROR="APP/SET-ERROR",e.SET_IS_INITIALIZED="APP/SET_IS_INITIALIZED"}(n||(n={}));var G,D={status:"idle",error:null,isInitialized:!1},C=function(e){return{type:n.SET_STATUS,status:e}},F=function(e){return{type:n.SET_ERROR,error:e}};!function(e){e.SET_IS_LOGGED_IN="AUTH/SET-IS-LOGGED-IN",e.SET_USER_DATA="AUTH/SET_USER_DATA",e.SET_IS_REGISTERED_SUCCESS="AUTH/SET_IS_REGISTERED_SUCCESS"}(G||(G={}));var U,q={isLoggedIn:!1,userData:null,isRegisteredSuccess:!1},z=function(e){return{type:G.SET_IS_LOGGED_IN,payload:{isLoggedIn:e}}},V=function(e){return{type:G.SET_IS_REGISTERED_SUCCESS,payload:{isRegisteredSuccess:e}}},W=r(20),B=r(27),M=B.a().shape({email:B.b().email("Invalid email address").required("Required"),password:B.b().min(7,"Password must be more than 7 characters").required("Required")}),Z=B.a().shape({email:B.b().email("Invalid email address").required("Required"),firstPassword:B.b().min(7,"Password must be more than 7 characters").required("Required"),secondPassword:B.b().min(7,"Password must be more than 7 characters").required("Required")}),$=B.a().shape({email:B.b().email("Invalid email address").required("Required")}),J=B.a().shape({firstPassword:B.b().min(7,"Password must be more than 7 characters").required("Required"),secondPassword:B.b().min(7,"Password must be more than 7 characters").required("Required")}),X=r(2),K=function(){console.log("render SignIn component");var e=Object(y.b)(),t=Object(y.c)((function(e){return e.auth.isLoggedIn})),r=Object(v.a)({initialValues:{email:"",password:"",rememberMe:!1},validationSchema:M,onSubmit:function(t){var r;e((r=t,function(){var e=Object(I.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(C("loading")),e.next=4,E(r);case 4:n=e.sent,t((c=n,{type:G.SET_USER_DATA,payload:{userData:c}})),t(z(!0)),t(C("succeeded")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),H(e.t0,t);case 13:case"end":return e.stop()}var c}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}});return t?Object(X.jsx)(o.a,{to:U.PROFILE_PATH}):Object(X.jsx)(f.a,{theme:S,children:Object(X.jsx)(l.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"80vh"},children:Object(X.jsx)(l.a,{item:!0,xs:4,children:Object(X.jsx)("form",{onSubmit:r.handleSubmit,children:Object(X.jsxs)(j.a,{style:{width:"300px"},children:[Object(X.jsxs)(u.a,{children:[Object(X.jsx)("p",{children:"Use common test account credentials:"}),Object(X.jsx)("p",{children:"Email: nya-admin@nya.nya"}),Object(X.jsx)("p",{children:"Password: 1qazxcvBG"})]}),Object(X.jsxs)(b.a,{children:[Object(X.jsx)(h.a,Object(d.a)({label:"Email",defaultValue:"nya-admin@nya.nya",margin:"normal",color:"secondary"},r.getFieldProps("email"))),r.touched&&r.errors.email&&Object(X.jsx)("div",{style:{color:"red"},children:r.errors.email}),Object(X.jsx)(h.a,Object(d.a)({type:"password",label:"Password",defaultValue:"1qazxcvBG",margin:"normal",color:"secondary"},r.getFieldProps("password"))),r.touched&&r.errors.password&&Object(X.jsx)("div",{style:{color:"red"},children:r.errors.password}),Object(X.jsx)(O.a,{label:"Remember me",control:Object(X.jsx)(p.a,Object(d.a)({color:"secondary"},r.getFieldProps("rememberMe")))}),Object(X.jsx)(m.a,{type:"submit",variant:"contained",color:"secondary",style:{marginTop:"20px"},children:"Sign In"}),Object(X.jsx)(u.a,{style:{marginTop:"20"},children:Object(X.jsxs)(x.a,{mt:5,children:[Object(X.jsxs)("p",{children:["Doesn't have a account? ",Object(X.jsx)(W.b,{to:U.REGISTER_PATH,children:"sign up"})]}),Object(X.jsxs)("p",{children:["Forgot ",Object(X.jsx)(W.b,{to:U.FORGOT_PATH,onClick:function(){e(C("idle"))},children:" password? "})]})]})})]})]})})})})})},Q=r(331),Y=r.p+"static/media/avatar-default.04fa9609.png",ee=a.a.memo((function(e){var t=e.userProfileData,r=e.isLoggedIn;return console.log("render Profile component"),r?Object(X.jsx)(l.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"80vh"},children:Object(X.jsx)(l.a,{item:!0,xs:8,children:t&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("img",{style:{borderRadius:"50%",height:300,width:300,display:"block",marginLeft:"auto",marginRight:"auto"},src:t.avatar?t.avatar:Y,alt:""}),Object(X.jsxs)(x.a,{mt:4,fontSize:"25px",children:[Object(X.jsx)("strong",{children:"username:"}),Object(X.jsxs)("span",{style:{paddingLeft:"20"},children:["  ",t.name," "]})]})]})})}):Object(X.jsx)(o.a,{to:U.SIGN_IN_PATH})})),te=function(){var e=Object(y.c)((function(e){return e.auth})),t=e.userData,r=e.isLoggedIn;return Object(X.jsx)(ee,{userProfileData:t,isLoggedIn:r})},re=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.auth.isRegisteredSuccess}));Object(c.useEffect)((function(){return function(){e(V(!1))}}));var r=Object(v.a)({initialValues:{email:"",firstPassword:"",secondPassword:""},validationSchema:Z,onSubmit:function(t){var r,n;t.firstPassword!==t.secondPassword?e(F("Passwords don't match!")):e((r=t.email,n=t.firstPassword,function(){var e=Object(I.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(C("loading")),e.next=4,A(r,n);case 4:e.sent,t(V(!0)),t(C("succeeded")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),H(e.t0,t);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}});return t?Object(X.jsx)(o.a,{to:U.SIGN_IN_PATH}):Object(X.jsx)(f.a,{theme:S,children:Object(X.jsx)(l.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"80vh"},children:Object(X.jsx)(l.a,{item:!0,xs:4,children:Object(X.jsx)("form",{onSubmit:r.handleSubmit,children:Object(X.jsx)(j.a,{style:{width:"300px"},children:Object(X.jsxs)(b.a,{children:[Object(X.jsx)(h.a,Object(d.a)({label:"Email",margin:"normal",color:"secondary"},r.getFieldProps("email"))),r.touched&&r.errors.email&&Object(X.jsx)("div",{style:{color:"red"},children:r.errors.email}),Object(X.jsx)(h.a,Object(d.a)({type:"password",label:"Password",margin:"normal",color:"secondary"},r.getFieldProps("firstPassword"))),r.touched&&r.errors.firstPassword&&Object(X.jsx)("div",{style:{color:"red"},children:r.errors.firstPassword}),Object(X.jsx)(h.a,Object(d.a)({type:"password",label:"Confirm password",margin:"normal",color:"secondary"},r.getFieldProps("secondPassword"))),r.touched.secondPassword&&r.errors.secondPassword&&Object(X.jsx)("div",{style:{color:"red"},children:r.errors.secondPassword}),Object(X.jsx)(m.a,{type:"submit",variant:"contained",color:"secondary",style:{marginTop:"20px"},children:"Sign Up"}),Object(X.jsx)(u.a,{children:Object(X.jsx)(x.a,{mt:5,children:Object(X.jsx)("p",{style:{textAlign:"center"},children:Object(X.jsx)(W.b,{to:U.SIGN_IN_PATH,children:"sign in"})})})})]})})})})})})},ne=a.a.memo((function(e){console.log("render forgot password");var t=Object(y.b)(),r=Object(y.c)((function(e){return e.app.status})),n=Object(v.a)({initialValues:{email:""},validationSchema:$,onSubmit:function(e){var r=e.email;t(function(e){return function(){var t=Object(I.a)(P.a.mark((function t(r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(C("loading")),t.next=4,k(e);case 4:t.sent,r(C("succeeded")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),H(t.t0,r);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(r))}});return Object(X.jsx)(f.a,{theme:S,children:Object(X.jsx)(l.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"80vh"},children:Object(X.jsx)(l.a,{item:!0,xs:8,children:"succeeded"===r?Object(X.jsxs)("div",{style:{backgroundColor:"#d3efe0",padding:"20px",fontSize:"1.5em"},children:[Object(X.jsx)("h1",{children:"Check your email"}),Object(X.jsx)("p",{children:"We've sent on email to the address provided. Click the link in the email to reset your password."}),Object(X.jsx)("p",{children:"If you don't see the email, check other places it might be; kike your spam, social, or other folders"})]}):Object(X.jsx)("form",{onSubmit:n.handleSubmit,children:Object(X.jsx)(j.a,{style:{width:"300px"},children:Object(X.jsxs)(b.a,{children:[Object(X.jsx)(h.a,Object(d.a)({label:"Email",margin:"normal",color:"secondary"},n.getFieldProps("email"))),n.touched&&n.errors.email&&Object(X.jsx)("div",{style:{color:"red"},children:n.errors.email}),Object(X.jsx)(m.a,{type:"submit",variant:"contained",color:"secondary",style:{marginTop:"20px"},children:"Send"}),Object(X.jsx)(u.a,{children:Object(X.jsx)(x.a,{mt:5,children:Object(X.jsx)("p",{style:{textAlign:"center"},children:Object(X.jsx)(W.b,{to:U.SIGN_IN_PATH,children:"sign in"})})})})]})})})})})})})),ce=a.a.memo((function(e){console.log("render recovery password");var t=Object(y.b)(),r=Object(o.g)().token,n=Object(y.c)((function(e){return e.app.status})),c=Object(v.a)({initialValues:{firstPassword:"",secondPassword:""},validationSchema:J,onSubmit:function(e){var n=e.firstPassword;n!==e.secondPassword?t(F("Passwords don't match!")):r&&t(function(e,t){return function(){var r=Object(I.a)(P.a.mark((function r(n){return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(C("loading")),r.next=4,N(e,t);case 4:r.sent,n(C("succeeded")),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),H(r.t0,n);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(n,r))}});return"succeeded"===n?Object(X.jsx)(o.a,{to:U.SIGN_IN_PATH}):Object(X.jsx)(f.a,{theme:S,children:Object(X.jsx)(l.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"80vh"},children:Object(X.jsx)(l.a,{item:!0,xs:8,children:Object(X.jsx)("form",{onSubmit:c.handleSubmit,children:Object(X.jsx)(j.a,{style:{width:"300px"},children:Object(X.jsxs)(b.a,{children:[Object(X.jsx)(h.a,Object(d.a)({label:"Password",type:"password",margin:"normal",color:"secondary"},c.getFieldProps("firstPassword"))),c.touched&&c.errors.firstPassword&&Object(X.jsx)("div",{style:{color:"red"},children:c.errors.firstPassword}),Object(X.jsx)(h.a,Object(d.a)({label:"Confirm password",type:"password",margin:"normal",color:"secondary"},c.getFieldProps("secondPassword"))),c.touched&&c.errors.secondPassword&&Object(X.jsx)("div",{style:{color:"red"},children:c.errors.secondPassword}),Object(X.jsx)(m.a,{type:"submit",variant:"contained",color:"secondary",style:{marginTop:"20px"},children:"Recovery password"}),Object(X.jsx)(u.a,{children:Object(X.jsx)(x.a,{mt:5,children:Object(X.jsx)("p",{style:{textAlign:"center"},children:Object(X.jsx)(W.b,{to:U.SIGN_IN_PATH,children:"sign in"})})})})]})})})})})})}));!function(e){e.SIGN_IN_PATH="/sign-in",e.PROFILE_PATH="/profile",e.REGISTER_PATH="/register",e.FORGOT_PATH="/forgot",e.SET_NEW_PASSWORD_PATH="/set-new-password/:token?"}(U||(U={}));var ae=function(){return Object(X.jsx)(Q.a,{fixed:!0,children:Object(X.jsxs)(o.d,{children:[Object(X.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(X.jsx)(o.a,{to:U.PROFILE_PATH})}}),Object(X.jsx)(o.b,{path:U.PROFILE_PATH,render:function(){return Object(X.jsx)(te,{})}}),Object(X.jsx)(o.b,{path:U.SIGN_IN_PATH,render:function(){return Object(X.jsx)(K,{})}}),Object(X.jsx)(o.b,{path:U.REGISTER_PATH,render:function(){return Object(X.jsx)(re,{})}}),Object(X.jsx)(o.b,{path:U.FORGOT_PATH,render:function(){return Object(X.jsx)(ne,{})}}),Object(X.jsx)(o.b,{path:U.SET_NEW_PASSWORD_PATH,render:function(){return Object(X.jsx)(ce,{})}})]})})},se=r(332),ie=r(345),oe=r(333),de=r(334),le=r(329),je=r(295),ue=r(335),be=r(342),he=r(339);function Oe(e){return Object(X.jsx)(he.a,Object(d.a)({elevation:6,variant:"filled"},e))}function pe(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.app.error})),r=function(t,r){"clickaway"!==r&&e(F(null))};return Object(X.jsx)(be.a,{open:!!t,autoHideDuration:6e3,onClose:r,children:Object(X.jsx)(Oe,{onClose:r,severity:"error",children:t})})}var me=Object(se.a)((function(e){return Object(ie.a)({root:{flexGrow:1},logo:{marginRight:e.spacing(3)},links:{flexGrow:1},navLink:{color:"white",textDecoration:"none",paddingLeft:"15px"},selectedLink:{color:"#4caf50   "}})})),xe=function(){console.log("Header component");var e=me(),t=Object(y.b)(),r=Object(y.c)((function(e){return e.app.status})),n=Object(y.c)((function(e){return e.auth.isLoggedIn}));return Object(X.jsxs)(f.a,{theme:S,children:[Object(X.jsx)(pe,{}),Object(X.jsx)("div",{className:e.root,children:Object(X.jsx)(oe.a,{position:"static",color:"primary",children:Object(X.jsxs)(de.a,{children:[Object(X.jsx)(le.a,{edge:"start",className:e.logo,color:"inherit","aria-label":"logo",children:"CARDS"}),Object(X.jsxs)(je.a,{variant:"h6",className:e.links,children:[Object(X.jsx)(W.b,{activeClassName:e.selectedLink,to:U.PROFILE_PATH,className:e.navLink,children:"Profile"}),Object(X.jsx)(W.b,{activeClassName:e.selectedLink,to:"dfdf",className:e.navLink,children:"News"})]}),Object(X.jsx)(je.a,{variant:"h6"}),!n&&Object(X.jsx)(m.a,{color:"inherit",onClick:function(){Ee.push(U.SIGN_IN_PATH)},children:"Login"}),n&&Object(X.jsx)(m.a,{color:"inherit",onClick:function(){t(function(){var e=Object(I.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(C("loading")),e.next=4,R();case 4:e.sent,t(z(!1)),t(C("succeeded")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),H(e.t0,t);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]})})}),"loading"===r&&Object(X.jsx)(ue.a,{})]})},fe=function(){return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(xe,{}),Object(X.jsx)(ae,{})]})},ge=r(336);var Se=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.app.isInitialized}));return Object(c.useEffect)((function(){e(function(){var e=Object(I.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(C("loading")),e.next=4,L();case 4:e.sent,t(z(!0)),t(C("succeeded")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),H(e.t0,t);case 12:return e.prev=12,t((r=!0,{type:n.SET_IS_INITIALIZED,isInitialized:r})),e.finish(12);case 16:case"end":return e.stop()}var r}),e,null,[[0,9,12,16]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),t?Object(X.jsx)("div",{className:"App",children:Object(X.jsx)(fe,{})}):Object(X.jsx)(f.a,{theme:S,children:Object(X.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(X.jsx)(ge.a,{color:"primary"})})})},ve=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,346)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))},ye=r(49),we=r(144),Pe=Object(ye.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_STATUS:return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case n.SET_ERROR:return Object(d.a)(Object(d.a)({},e),{},{error:t.error});case n.SET_IS_INITIALIZED:return Object(d.a)(Object(d.a)({},e),{},{isInitialized:t.isInitialized});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.SET_IS_LOGGED_IN:case G.SET_IS_REGISTERED_SUCCESS:case G.SET_USER_DATA:return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}}}),Ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose,Te=Object(ye.d)(Pe,Ie(Object(ye.a)(we.a))),_e=r(145),Ee=r.n(_e)()();i.a.render(Object(X.jsx)(a.a.StrictMode,{children:Object(X.jsx)(W.a,{children:Object(X.jsx)(o.c,{history:Ee,children:Object(X.jsx)(y.a,{store:Te,children:Object(X.jsx)(Se,{})})})})}),document.getElementById("root")),ve()}},[[292,1,2]]]);
//# sourceMappingURL=main.baa5f688.chunk.js.map